<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_list_invoice">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                    <div class="page" style="font-size:15px;">
                        <h2 align="center">發票總欖</h2>
                        <!--
                        <div class="pull-right" style="margin-left:50%;"><strong>日期:</strong><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d')"/></div>
                        -->
                    </div>
                        <table class="table table-condensed" name="invoice_list_table">
                            <tbody class="invoice_tbody">
                                <t t-set="total" t-value="0"/>
                                <t t-set="car_num" t-value="0"/>
                                <t t-foreach="docs" t-as="o">
                                    <t t-if="o.number_car != car_num">
                                        <tr>
                                            <td style="font-size:23px;" colspan="5"><strong><span t-field="o.number_car"/><span style="padding-left:10px;"/>發票總數:
                                                <span t-esc="len(docs)"/></strong></td>
                                            <td style="font-size:23px;"><span t-esc="datetime.datetime.strptime(str(o.quot_date), '%Y-%m-%d').strftime('%Y年%m月%d日')"/></td>

                                        </tr>
                                        <tr>
                                            <th/>
                                            <th>車號</th>
                                            <th>客戶編號</th>
                                            <th>客戶名稱</th>
                                            <th>發票種類</th>
<!--                                            <th style="float:right">金額</th>-->
                                        </tr>
                                        <t t-set="car_num" t-value="o.number_car"/>
                                    </t>
                                        <tr>
                                            <td/>
                                            <td><span t-field="o.number_car"/></td>
                                            <td><span t-field="o.invoice_partner"/></td>
                                            <td><span t-field="o.partner_id.name"/></td>
                                            <td><span t-field="o.payment_term_id"/></td>
                                            <!--
                                            <td><span t-field="o.number"/></td>

                                            <td><span t-field="o.origin"/></td>
                                            <td><span t-field="o.quot_date" /></td>
                                            -->
<!--                                            <td style="float:right"><span t-field="o.amount_total_signed"/></td>-->
                                            <t t-set="total" t-value="total + o.amount_total_signed"/>
                                        </tr>
                                </t>
                            </tbody>
                        </table>
<!--                        <div class="clearfix">-->
<!--                            <div id="total" class="row">-->
<!--                                <div t-attf-class="#{'col-4' if report_type != 'html' else 'col-sm-7 col-md-5'} ml-auto">-->
<!--                                    <table class="table table-sm">-->
<!--                                        <tr class="border-black o_subtotal" style="">-->
<!--                                            <td><strong>小計:</strong></td>-->
<!--                                            <td class="text-right">-->
<!--                                                <span t-esc="total" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: res_company.currency_id}"/>-->
<!--                                            </td>-->
<!--                                        </tr>-->
<!--                                    </table>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                    </div>-->
                </t>
            </t>

    </template>
</odoo>




